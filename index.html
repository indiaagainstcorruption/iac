<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>India Against corruption Test Page</title>

		<!-- <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'> -->

		<link rel="stylesheet" href="css/demo.css">
	</head>

	<body>

		<article>
			<h1>India Against corruption</h1>
			<p>
				An experimental animated ribbon which reveals a curtain of additional content. See the top right corner! <a href="http://github.com/hakimel/forkit.js">Source on GitHub.</a>
			</p>
			<p>
				<del>This a concept for a more playful and animated GitHub ribbon. The intention was to let you use the detached ribbon to drag down an iframe-embed of the repository on github.com but I neglected to check their X-Frame-Options until finishing most of the work.</del>
			</p>
			<small>
				Created by <a href="http://twitter.com/hakimel">@hakimel</a> / <a href="http://hakim.se/">http://hakim.se</a>
			</small>
		</article>

		<!-- The contents (if there's no contents the ribbon acts as a link) -->
		<div class="forkit-curtain">
			<div class="close-button"></div>
			<h2>India Against Corruption</h2>
			<small>Support Team Anna </small>
			<div id="photos">
			</div>
			<div class="forkit-share-bar">
				<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
					<a class="addthis_button_preferred_1"></a>
					<a class="addthis_button_preferred_2"></a>
					<a class="addthis_button_preferred_3"></a>
					<a class="addthis_button_preferred_4"></a>
					<a class="addthis_button_compact"></a>
					<a class="addthis_counter addthis_bubble_style"></a>
				</div>
			</div>
		</div>

		<script type="text/javascript">
		function YQLQuery(query, callback) {
	    this.query = query;
	    this.callback = callback || function(){};
	    this.fetch = function() {

	        if (!this.query || !this.callback) {
	            throw new Error('YQLQuery.fetch(): Parameters may be undefined');
	        }

	        var scriptEl = document.createElement('script'),
	            uid = 'yql' + +new Date(),
	            encodedQuery = encodeURIComponent(this.query.toLowerCase()),
	            instance = this;

	        YQLQuery[uid] = function(json) {
	            instance.callback(json);
	            delete YQLQuery[uid];
	            document.body.removeChild(scriptEl);
	        };

	        scriptEl.src = 'http://query.yahooapis.com/v1/public/yql?q='
	                     + encodedQuery + '&format=json&callback=YQLQuery.' + uid; 
	        document.body.appendChild(scriptEl);

	    };
		}
		'select * from flickr.photos.search where text in ("%anna%hazzare%"") and api_key="ad727a662d249945e1056362255f0133'
		// var query = "select * from rss where url='somefeed.com' limit 1";
		var query = 'select * from flickr.photos.search where text in ("%anna%hazzare%") and api_key="ad727a662d249945e1056362255f0133"';

		// Define your callback:
		var callback = function(data) {
			debugger;
		    var post = data.query.results.photo;
		    var temp;
		    for (temp in post){
		    	var theDiv = document.getElementById("photos");
					// var content = document.createTextNode("<YOUR_CONTENT>");
					
		    	var curr = post[temp];
		    	// var string = ('<div><img src="http://farm'+ curr.farm +'.static.flickr.com/'+ curr.server +'/' + curr.id +'_' + curr.secret +'.jpg" alt="' + curr.title + '" /></div>');
		    	// var string = '<img src="http://farm'+ curr.farm +'.static.flickr.com/'+ curr.server +'/' + curr.id +'_' + curr.secret +'.jpg" alt="' + curr.title + '" />';
		    	var string = 'http://farm'+ curr.farm +'.static.flickr.com/'+ curr.server +'/' + curr.id +'_' + curr.secret +'.jpg';
		    	var alt = curr.title;
		    	console.log(string);


		    	var content = document.createElement('img');
		    	content.src =  string;
		    	content.alt = alt;
		    	content.width = 200;
		    	content.height = 200;
		    	theDiv.appendChild(content);

		    }
		    // alert(post.title);
		};

		// Instantiate with the query:
		var firstFeedItem = new YQLQuery(query, callback);

		// If you're ready then go:
		firstFeedItem.fetch();


		</script>

		<!-- The ribbon -->
		<a class="forkit" data-text="Top Secret" data-text-detached="Drag down >" href="http://www.indiaagainstcorruption.org"><img style="position: absolute; top: 0; right: 0; border: 0;" src="images/203"></a>

		<script type="text/javascript">
			var __iac = {
				closedText : 'Support Anna',
				detachedText: 'Drag me down',
				tagBackgroundColor: 'red',
				tagColor: 'black',
				curtainBackgroundColor: 'green',
				src: document.location.href + 'public/iac'
			};

		</script>
		<script src="public/iac/js/iac.js"></script>

	</body>
</html>